extends layout

block links

block headScripts

block bodyScripts
  script(src='/javascripts/userProfileHelpers.js')

block content


  .modal.fade(id='editProfileFormModal', name="editProfileFormModal", tabindex='-1')
    .modal-dialog
      .modal-content
        .modal-header
          button.close(type="button" data-dismiss="modal") &times;
          h4.modal-title Edit your profile
        .modal-body

          div(id="editProfileForm")

            fieldset

              .form-group
                label.control-label(id="editProfileFormLabelCurrent")
                div(class="flex-containerMainCentered")
                  div(class="flex-containerSubProfile")
                    div.dont-break-out(id="modalFormElementValueCurrent", style="font-size: 1.0em;")

              .form-group

                label.control-label(id="editProfileFormLabelUpdated")

                div(style="height:50px; width:100%;")

                  div.hide(id="editProfileInputElementParent", style="position:absolute; width:100%; padding-right: 36px;")
                    input.form-control.input-md(id="editProfileInputElement", name="inputElement", autofocus)
              
                  div.hide(id="editProfileSelectElementParent", style="position:absolute; width:100%; padding-right: 36px;")
                    +selectStateFormControl()

                hide.error(id="editProfileFormError")

              button(class="btn btn-default btn-md" data-dismiss="modal") Cancel
              | &nbsp;&nbsp;&nbsp;&nbsp;
              button(class="btn btn-primary btn-md", id="submitEditProfileBtn") Submit

        .modal-footer
          .loading(style="display:none;")


  .main
    br
    br

    .container
      .row
      
        .col-xs-12.col-sm-3.col-md-3.col-md-3
          .text-center
            img(src="/images/someUser.png")
      
      
        .col-xs-12.col-sm-7.col-md-7.col-md-7
      
          .row
            div(style="height:25px")
      
          .row
      
            - var isodate = `${currentUser.previouslogin}`
            - var millis = Date.parse(isodate)
            .col-xs-12
              .pull-right.text-muted.alertEditUser
                small
                  i Last login:
                    | &nbsp;
                    +newAppDate(millis,true)
      
          .row
            div(style="height:25px")
      
          
          .row
      
            .col-xs-12
              ul.nav.nav-tabs
                li.active
                  a(id="personalInfoToggle" href="#home" data-toggle="tab")
                    h4 Profile
                li
                  a(id="accountInfoToggle" href="#profile" data-toggle="tab")
                    h4 Account
      
              .tab-content
      
                div(class="tab-pane active" id="home")
      
                  div(style="height:16px")
      
      
                  div
                    div
                      h4
                        i First Name:
      
                    div(class="flex-containerMainCentered")
      
                      div(class="flex-containerSubProfile")
      
                        div(class="dont-break-out" style="font-size: 1.0em;") #{currentUser.firstname}

                      div(class="personalInfo" id="firstNameBtn", style="display:none;", data-formelementtype="text", data-formelementcurrentval=`${currentUser.firstname}`)
                        button(class="btn btn-primary btn-md editFormElement", id="BUGGER") Edit
      
                    div(style="height:12px")
      
      
                  div
                    div
                      h4
                        i Last Name:
      
                    div(class="flex-containerMainCentered")
      
                      div(class="flex-containerSubProfile")
      
                        div(class="dont-break-out" style="font-size: 1.0em;") #{currentUser.lastname}

                      div(class="personalInfo" id="lastNameBtn", style="display:none;", data-formelementtype="text", data-formelementcurrentval=`${currentUser.lastname}`)
                        button(class="btn btn-primary btn-md editFormElement") Edit
      
                    div(style="height:12px")
      
      
                  div
                    div
                      h4
                        i City:
      
                    div(class="flex-containerMainCentered")
      
                      div(class="flex-containerSubProfile")
      
                        div(class="dont-break-out" style="font-size: 1.0em;") #{currentUser.city}

                      div(class="personalInfo" id="cityBtn", style="display:none;", data-formelementtype="text", data-formelementcurrentval=`${currentUser.city}`)
                        button(class="btn btn-primary btn-md editFormElement") Edit
      
                    div(style="height:12px")
      
      
                  div
                    div
                      h4
                        i State:
      
                    div(class="flex-containerMainCentered")
      
                      div(class="flex-containerSubProfile")
      
                        div(class="" style="font-size: 1.0em;") #{currentUser.state.full}

                      div(class="personalInfo" id="stateBtn", style="display:none;", data-formelementtype="select", data-formelementcurrentval=`${currentUser.state.full}`)
                        button(class="btn btn-primary btn-md editFormElement") Edit
      
      
                  div(style="height:28px")
      
                  div
                    button(id="personalInfoUpdate" class="btn btn-success btn-md nav-toggle") Update Personal info
      
      
                div(class="tab-pane" id="profile")
      
                  div(style="height:16px")
      
      
                  div
                    div
                      h4
                        i Username:
      
                    div(class="flex-containerMainCentered")
      
                      div(class="flex-containerSubProfile")
      
                        div(class="flex-item111 text-muted controlOverflow" style="font-size: 1.0em;") #{currentUser.displayname}
                    small.text-muted
                      | &nbsp;&nbsp;&nbsp;
                      i *Username cannot be changed
      
      
      
                    div(style="height:12px")


      
                  div
                    div
                      h4
                        i Email:
      
                    div(class="flex-containerMainCentered")
      
                      div(class="flex-containerSubProfile")
      
                        div(class="dont-break-out" style="font-size: 1.0em;") #{currentUser.email}

                      div(class="accountInfo" id="emailBtn", style="display:none;", data-formelementtype="email", data-formelementcurrentval=`${currentUser.email}`)
                        button(class="btn btn-primary btn-md editFormElement") Edit
      
                    div(style="height:12px")
      
      

                  div
                    div
                      h4
                        i Password:
      
                    div(class="flex-containerMainCentered")
      
                      div(class="flex-containerSubProfile")
      
                        div(class="dont-break-out" style="font-size: 1.0em;") ********
      
                      div(class="accountInfo" id="passwordBtn", style="display:none;", data-formelementtype="password", data-formelementcurrentval="********")
                        button(class="btn btn-primary btn-md editFormElement") Edit
                    small.text-muted
                      | &nbsp;&nbsp;&nbsp;
                      i *Password is hidden 
      
      
                  div(style="height:28px")
      
                  div
                    button(id="accountInfoUpdate" class="btn btn-success btn-md nav-toggle") Update Account info

    br
    br

